extends layout

block append site_styles
	
block append site_scripts
	script(src="/javascripts/ranking.js")


block content
	include navbar

	div(class="large-7 medium-7 small-12 columns")
		h4.subheader Seuraranking - LSQ
		div.large-12.small-12.columns.panel
			
			h5.subheader
				span(data-bind="text: rankingDate", style="text-transform: capitalize")
			table(style="width: 100%", style="border-collapse: collapse")
				thead
					tr
						//th(colspan=4)
							|Ranking 8.11.2013

				tbody(data-bind="foreach: rankingList")
					tr
						//td(data-bind="text: $index()")
						// ko if: rank
						td.scoreCell(data-bind="text: rank")
						td.scoreCell
						
							div(data-bind="visible: hotness() === 'hot'")
								i.fi-arrow-up
							div(data-bind="visible: hotness() === 'cold'")
								i.fi-arrow-down
							div(data-bind="visible: hotness() === 'lukewarm' || hotness() === null")
								div(style="background-color: black; border: 1px #000 solid; border-radius: 1000px; width: 6px; height: 6px; margin: auto")
						td.scoreCell(data-bind="text: name", style="width: 100%; text-align: left")
						//td.scoreCell o 
						// /ko

	
	div(class="large-5 medium-5 small-12 columns")
		h4.subheader Kuukauden pelit
		div.large-12.small-12.columns(data-bind="foreach: matchList", style="padding: 2px")
		
			// ko if: ($index() === 0)
	
			div.large-12.small-12.columns.site_gameList.left(data-bind="text: moment(startTime()).format('dddd, DoMoYYYY')", style="color: #9f9f9f; font-size: 13px")
			hr
		
			// /ko
		
			// ko if: $index() > 0 && moment($parent.matchList()[$index() -1].startTime()).format('DDDYY') !== moment(startTime()).format('DDDYY')

			div.large-12.small-12.columns.site_gameList.left(data-bind="text: moment(startTime()).format('dddd, DoMoYYYY')", style="color: #9f9f9f; font-size: 13px")
			hr
		
			// /ko
		
			div.large-12.small-12.columns.site_gameList.gameListHeader(data-bind="click: $root.toggleVisible")
					div.large-4.small-4.columns.site_gameList(data-bind="text: playerOneName", style="text-align: right")
					div.large-4.small-4.columns.site_gameList(style="text-align: center")
						span(data-bind="text: p1GamesWon")
						|&nbsp;-&nbsp;
						span(data-bind="text: p2GamesWon")
					div.large-4.small-4.columns.site_gameList(data-bind="text: playerTwoName", style="text-align: left")
		
				div.large-12.small-12.columns.site_gameList.gameScores(style="display:none", data-bind="if: gameScores().length > 0")
						hr

						div(data-bind="foreach: gameScores", style="text-align: center; padding-bottom: 4px").large-12.small-12.columns

							span(data-bind="text: p1score")
							|-
							span(data-bind="text: p2score")
							span(data-bind="if: ($index() !== ($parent.gameScores().length - 1))")
								|,&nbsp;

						//hr

	div.large-12.small-12.columns.show-for-small(style="height: 36px; background: #e9e9e9")
		&nbsp;

	
	//-
		div.row
			div(style="background-color: #eee")
				pre(data-bind="text: ko.toJSON(session, null, 2)")